# Development SSL Certificates

This directory holds LOCAL DEVELOPMENT TLS certificates used by the API (and optionally the React dev server) on `https://localhost`.

They are generated by the script `../scripts/setup-dev-certs.js` using [mkcert](https://github.com/FiloSottile/mkcert). These files MUST NOT be committed (private keys!) – they are ignored by `.gitignore`.

## Why mkcert?
Self-signed certificates trigger a browser “Not Secure” warning. mkcert creates a *local* Certificate Authority (CA) that is trusted by:
- Windows (Chrome, Edge, Electron)
- macOS (Safari, Chrome, Edge)
- Linux (Chrome/Chromium) after nss tools
- Firefox (via NSS integration)

Certificates it issues for `localhost`, `127.0.0.1`, and `::1` are then trusted automatically (padlock, no warning).

## One-Time Setup Per Developer
Install mkcert:
- Windows (Chocolatey): `choco install mkcert nss-tools`
- macOS (Homebrew): `brew install mkcert nss`
- Linux (Debian/Ubuntu example):
  ```bash
  sudo apt install libnss3-tools
  curl -L https://github.com/FiloSottile/mkcert/releases/latest/download/mkcert-v*-linux-amd64 -o mkcert
  chmod +x mkcert && sudo mv mkcert /usr/local/bin/
  ```

## Generate / Refresh Certificates
From repository root:
```bash
node api-server/scripts/setup-dev-certs.js
```
This will:
1. Ensure the local root CA is installed (`mkcert -install`).
2. Generate `cert.pem` and `key.pem` in this folder.

## Using with the React Dev Server
The React `.env` already points to `../api-server/ssl/cert.pem` and `key.pem` when you run the provided setup script for HTTPS. Just re-run that script if needed.


